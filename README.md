# Инстурмент для создания 360 экскурсий

## Установка в Unity проект
1. Добавить как [git submodule](https://www.git-scm.com/book/en/v2/Git-Tools-Submodules)
    ```bash
    git submodule add https://github.com/RTUITLab/Excursion360-Builder.git Packages/Excursion360-Builder
    ```
2. Добавить папку с ресурсами в .gitignore
    ```gitignore
    Assets/Tour creator/
    ```
3. Переключиться с конкретного коммита на `master` ветку для удобства
    ```bash
    cd Packages/Excursion360-Builder
    git checkout master
    ```

Далее для обновления сборщика будет достаточно выполнить
```bash
cd Packages/Excursion360-Builder
git pull
```

## [Документация по использованию](Documentation/DOCUMENTATION.md)

## Архитектура

![Architecture](Architecture.png)

## Обновления
* `2025 06 24`
  * Исправлена работа с камерой в превью режиме
* `2024 05 05`
  * Добавлено создание пустого `/eapi/preload.json`, для корректной работы алогиртма предзагрузки при размещении экскурсии в формате статичных файлов
* `2023 12 21`
  * Убрана ненужная кнопка в редакторе интерактивных элементов
  * В проекте теперь сохраняется дата последней сборки, и версия просмотрщика для удобства при отслеживании обновлений
* `2023 12 20`
  * В меню редактора добавлен флаг для отображения порядковых номеров field item-ов в рамках сцены. Полезно для ориентирования при множестве объектов без названия.
  * Удалены ненужные using, которые приводили к невозможности использования редактора на некоторых проектах.
  * Обновлена инструкция по добавлению проекта
* `2023 12 12`
  * Для каждой локации можно указать направление, куда будет смотреть камера при открытии локации по ссылке
* `2023 12 05`
  * Добавлена возможность размещать на локации изображения
  * На групповых переходах можно регулировать высоту заголовка относительно переходов
* `2023 10 26`
  * Для групповых переходов можно настроить режим отображения - показывать как обычно, или оставить только сами кнопки, без "сферы"
* `2023 10 11`
  * При экспорте инвертируются координаты вращения изображения по `x` и `z` для корректного отображения в Babylon.JS.
* `2023 10 05`
  * Для тура можно ставить флаг для быстрого возврата на первую локацию из любой другой.
* `2023 10 04`
  * У FieldItem есть поле debugTitle для отображения в редакторе, если у объекта нет публичного названия.
* `2023 09 29`
  * Добавлена возможность устанавливать изображение для сокрытия штатива, нужно добавить png/jpg в Tour.
* `2023 09 28`
  * Добавлен флаг, регулирующий необходимость зацикливания и продолжения при возврате фонового аудио
* `2023 09 20`
  * Исправлены аргументы при сборке живого превью
* `2023 07 18`
  * К состояниям можно привязать аудио сопровождение
* `2023 06 30`
  * У интерактивных элементов при отсутствии контента показывается предупреждение
* `2023 06 29`
  * Интерактивные элементы создаются кнопкой внизу и сразу раскрыты.
* `2023 06 27`
  * Добавлен дополнительный редактор, позволяюший преобразовывать панорманые снимки к прямоугольным.
* `2023 06 20`
  * Оптимизация веса экскурсии за счет снижения качества (без видымых изменений) + изменения разрешений текстур (до 4096). Объем уменьшился примерно в 10 раз.
* `2023 06 19`
  * Отображение/скрытие всех интерактивных элементов.
  * При переопределении направления на состояние сразу включается режим редактирования.
* `2023 06 16`
  * Интерактивные элементы
    * Интерактивные элементы редактируются при помощи собственного "редактора массивов", так как редактор по умолчанию не сохраняет текстуру.
    * При редактировании вершины интерактивного элемента не отрисовывается его "квадрат", для возможности более точного позиционирования.
    * Можно скрыть отображение конкретных интерактивных элементов для простоты редактирования радом находящихся.
  * Идентификаторы состояний сохраняются в проекте, чтобы путь к результирующим сценам на сайте не менялся между сборками.
  * Обновлен способ обработок ошибок http запросов на актуальный.
